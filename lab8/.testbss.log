(THU.CST) os is loading ...

Special kernel symbols:
  entry  0xc0100036 (phys)
  etext  0xc01153fb (phys)
  edata  0xc0151000 (phys)
  end    0xc0155324 (phys)
Kernel executable memory footprint: 341KB
ebp:c014df38 eip:c0100bdf args:ee2c014 316c010 6ad9c010 df68ffff
    kern/debug/kdebug.c:351: print_stackframe+22
ebp:c014df48 eip:c0100ee2 args:e9c014 c010 0 0
    kern/debug/kmonitor.c:129: mon_backtrace+10
ebp:c014df68 eip:c01000e9 args:112c014 c010 df900000 c014
    kern/init/init.c:61: grade_backtrace2+33
ebp:c014df88 eip:c0100112 args:130c014 c010 0 dfb4ffff
    kern/init/init.c:66: grade_backtrace1+38
ebp:c014dfa8 eip:c0100130 args:155c014 c010 360000 c010
    kern/init/init.c:71: grade_backtrace0+23
ebp:c014dfc8 eip:c0100155 args:8bc014 541cc010 5400c011 4324c011
    kern/init/init.c:76: grade_backtrace+34
ebp:c014dff8 eip:c010008b args:340000 55acc010 55b4c011 e68c011
    kern/init/init.c:34: kern_init+84
memory management: default_pmm_manager
e820map:
  memory: 0009fc00, [00000000, 0009fbff], type = 1.
  memory: 00000400, [0009fc00, 0009ffff], type = 2.
  memory: 00010000, [000f0000, 000fffff], type = 2.
  memory: 07efe000, [00100000, 07ffdfff], type = 1.
  memory: 00002000, [07ffe000, 07ffffff], type = 2.
  memory: 00040000, [fffc0000, ffffffff], type = 2.
check_alloc_page() succeeded!
check_pgdir() succeeded!
check_boot_pgdir() succeeded!
-------------------- BEGIN --------------------
PDE(0e0) c0000000-f8000000 38000000 urw
  |-- PTE(38000) c0000000-f8000000 38000000 -rw
PDE(001) fac00000-fb000000 00400000 -rw
  |-- PTE(000e0) faf00000-fafe0000 000e0000 urw
  |-- PTE(00001) fafeb000-fafec000 00001000 -rw
--------------------- END ---------------------
use SLOB allocator
kmalloc_init() succeeded!
check_vma_struct() succeeded!
page fault at 0x00000100: K/W [no page found].
check_pgfault() succeeded!
check_vmm() succeeded.
sched class: RR_scheduler
ide 0:      10000(sectors), 'QEMU HARDDISK'.
ide 1:     262144(sectors), 'QEMU HARDDISK'.
ide 2:     262144(sectors), 'QEMU HARDDISK'.
SWAP: manager = fifo swap manager
BEGIN check_swap: count 1, total 31940
setup Page Table for vaddr 0X1000, so alloc a page
setup Page Table vaddr 0~4MB OVER!
set up init env for check_swap begin!
page fault at 0x00001000: K/W [no page found].
page fault at 0x00002000: K/W [no page found].
page fault at 0x00003000: K/W [no page found].
page fault at 0x00004000: K/W [no page found].
set up init env for check_swap over!
write Virt Page c in fifo_check_swap
write Virt Page a in fifo_check_swap
write Virt Page d in fifo_check_swap
write Virt Page b in fifo_check_swap
write Virt Page e in fifo_check_swap
page fault at 0x00005000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x1000 to disk swap entry 2
write Virt Page b in fifo_check_swap
write Virt Page a in fifo_check_swap
page fault at 0x00001000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x2000 to disk swap entry 3
swap_in: load disk swap entry 2 with swap_page in vadr 0x1000
write Virt Page b in fifo_check_swap
page fault at 0x00002000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x3000 to disk swap entry 4
swap_in: load disk swap entry 3 with swap_page in vadr 0x2000
write Virt Page c in fifo_check_swap
page fault at 0x00003000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x4000 to disk swap entry 5
swap_in: load disk swap entry 4 with swap_page in vadr 0x3000
write Virt Page d in fifo_check_swap
page fault at 0x00004000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x5000 to disk swap entry 6
swap_in: load disk swap entry 5 with swap_page in vadr 0x4000
write Virt Page e in fifo_check_swap
page fault at 0x00005000: K/W [no page found].
swap_out: i 0, store page in vaddr 0x1000 to disk swap entry 2
swap_in: load disk swap entry 6 with swap_page in vadr 0x5000
write Virt Page a in fifo_check_swap
page fault at 0x00001000: K/R [no page found].
swap_out: i 0, store page in vaddr 0x2000 to disk swap entry 3
swap_in: load disk swap entry 2 with swap_page in vadr 0x1000
count is 0, total is 5
check_swap() succeeded!
sfs: mount: 'simple file system' (274/32494/32768)
vfs: mount disk0.
++ setup timer interrupts
kernel_execve: pid = 2, name = "testbss".

0 0

0 0

1 1

2 1

3 1

4 1

5 1

6 0

0 0

7 1

8 0

0 0

9 0

0 0
I am No.0 philosopher_sema
Iter 1, No.0 philosopher_sema is thinking
I am No.1 philosopher_sema
Iter 1, No.1 philosopher_sema is thinking
I am No.2 philosopher_sema
Iter 1, No.2 philosopher_sema is thinking
I am No.3 philosopher_sema
Iter 1, No.3 philosopher_sema is thinking
I am No.4 philosopher_sema
Iter 1, No.4 philosopher_sema is thinking
I am No.0 philosopher_condvar
Iter 1, No.0 philosopher_condvar is thinking
I am No.1 philosopher_condvar
Iter 1, No.1 philosopher_condvar is thinking
I am No.2 philosopher_condvar
Iter 1, No.2 philosopher_condvar is thinking
I am No.3 philosopher_condvar
Iter 1, No.3 philosopher_condvar is thinking
I am No.4 philosopher_condvar
Iter 1, No.4 philosopher_condvar is thinking
Making sure bss works right...
Yes, good.  Now doing a wild write off the end...
testbss may pass.
not valid addr c03160, and  can not find it in vma
trapframe at 0xc0348fb4
  edi  0x00000000
  esi  0x00000000
  ebp  0xafffff8c
  oesp 0xc0348fd4
  ebx  0x00000001
  edx  0x00801e3a
  ecx  0xaffffe98
  eax  0x00000012
  ds   0x----0023
  es   0x----0023
  fs   0x----0000
  gs   0x----0000
  trap 0x0000000e Page Fault
  err  0x00000006
  eip  0x008018bc
  cs   0x----001b
  flag 0x00000282 SF,IF,IOPL=0
  esp  0xafffff60
  ss   0x----0023
killed by kernel.
kernel panic at kern/trap/trap.c:210:
    handle user mode pgfault failed. ret=-3

stack trackback:
ebp:c0348f18 eip:c0100bdf args:f53c034 56e0c010 8f5cc011 d2c034
    kern/debug/kdebug.c:351: print_stackframe+22
ebp:c0348f48 eip:c0100f53 args:2a01c034 588ec010 d2c011 5b300000
    kern/debug/panic.c:27: __panic+105
ebp:c0348f78 eip:c0102a01 args:2aecc034 8fb4c010 c034 0
    kern/trap/trap.c:210: trap_dispatch+289
ebp:c0348fa8 eip:c0102aec args:2b41afff 8fb4c010 c034 0
    kern/trap/trap.c:295: trap+74
ebp:afffff8c eip:c0102b41 args:adaafff 10080 fff00000 1afff
    kern/trap/trapentry.S:24: <unknown>+0
ebp:afffffbc eip:800ada args:2ea0000 10080 fff00000 afff
    user/libs/umain.c:31: umain+167
Welcome to the kernel debug monitor!!
Type 'help' for a list of commands.
K